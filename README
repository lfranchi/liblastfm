liblastfm
=========
liblastfm is a collection of libraries to help you integrate Last.fm services 
into your rich desktop software. It depends on Qt 4.4.

Max Howell   http://twitter.com/mxcl
Jono Cole    http://twitter.com/jonocole
Doug Mansell http://twitter.com/dougma


Dependencies
============
The build process requires ruby, perl and GNU make. Pls to remove perl dep.
Pls to fork http://github.com/mxcl/liblastfm

Mac OS X
--------
	sudo port selfupdate
	sudo port upgrade installed
	sudo port install libsamplerate fftw-3 libmad qt4-mac-devel

qt4-mac-devel will take a long time to build. So you may want to install the
Trolltech binary package instead.

Linux
-----
For Ubuntu 9.04 (some are build deps, eg. Ruby is used during configure):

	sudo apt-get install qt4-qmake pkg-config libsamplerate-dev libfftw3-dev libmad0-dev ruby g++ libqt4-dev

The configure process also requires lsb_release on Linux. This is usually 
already installed (correct me if I'm wrong).

Windows
-------
Best of luck to you.


Installing liblastfm
====================
    PREFIX=/usr/local ./configure --release && make && sudo make install

FIXME! we would like to support the normal --prefix route pls.

Packaging liblastfm
===================

DESTDIR is supported.

The library is split into liblastfm and liblastfm_fingerprint. The 
fingerprinting part is separate as it links to libfftw3. So if you want to 
package it separately then you can. Sadly because there is simply no good
configuration system in the world, you still have to build bothâ€¦


Using liblastfm
===============
We have copied the API at http://last.fm/api onto C++, so like you find
artist.getInfo there you will find an lastfm::Artist::getInfo function in our
C++ API. lastfm is a namespace, Artist a class, getInfo a function.

Thus the API is quite easy to learn. We suggest installing and checking the 
include/lastfm/* directory to find out all capabilities.

The demos directory shows some further basic usage including Audioscrobbling
and getting metadata for music via our fingerprinting technology.

You need an API key from http://last.fm/api to use the webservice API.

Radio
-----
Please set an identifiable UserAgent on your HTTP requests for the actual MP3s,
in extreme cases we'll contact you directly and demand you do so :P

HTTP & Networking
-----------------
You can specify your own QNetworkAccessManager derived class for liblastfm to 
use with lastfm::setNetworkAccessManager(). Our default is pretty good
though, auto-determining proxy settings on Windows and OS X for instance.


Development
===========
Public Headers
--------------
1. Header guards should be prefixed with LASTFM, eg. LASTFM_WS_REPLY_H
2. #includes should be to the system path eg. #include <lastfm/Scrobbler>
3. Don't make a header public unless it is absolutely required!
4. To make the header public edit the headers.files line in the pro file

Private Headers
---------------
1. For consistency and to make it more obvious it is a private header, don't
   prefix the header guard with LASTFM
2. #includes should be the full source tree path, eg.
   #include "../ws/QNetworkReply.h"


Release History
===============
0.2 -- 20th April 2009
